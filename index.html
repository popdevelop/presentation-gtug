<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Google Maps &raquo; Popdevelop</title>

  <link rel="stylesheet" href="./css/reset.css" type="text/css"/>
  <link rel="stylesheet" href="./css/showoff.css" type="text/css"/>

  <script type="text/javascript" src="./js/jquery-1.4.2.min.js"></script>
  <script type="text/javascript" src="./js/jquery.cycle.all.js"></script>
	<script type="text/javascript" src="./js/jquery-print.js"></script>
  <script type="text/javascript" src="./js/jquery.batchImageLoad.js"></script>

  <script type="text/javascript" src="./js/jquery.doubletap-0.1.js"></script>

  <script type="text/javascript" src="./js/fg.menu.js"></script>
  <script type="text/javascript" src="./js/showoff.js"></script>
  <script type="text/javascript" src="./js/jTypeWriter.js"> </script>
  <script type="text/javascript" src="./js/sh_main.min.js"></script>
  <script type="text/javascript" src="./js/core.js"></script>
  <script type="text/javascript" src="./js/showoffcore.js"></script>

  <link type="text/css" href="./css/fg.menu.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/theme/ui.all.css" media="screen" rel="stylesheet" />
  <link type="text/css" href="./css/sh_style.css" rel="stylesheet" >

  
    <link rel="stylesheet" href="file/style.css" type="text/css"/>
  

  
    <script type="text/javascript" src="file/cufon.min.js"></script>
  
    <script type="text/javascript" src="file/Museo_400.font.js"></script>
  
    <script type="text/javascript" src="file/scripts.js"></script>
  

  <script type="text/javascript">
  $(function(){
    setupPreso(false, './');
  });
  </script>
</head>

<body>


<a tabindex="0" href="#search-engines" class="fg-button fg-button-icon-right ui-widget ui-state-default ui-corner-all" id="navmenu"><span class="ui-icon ui-icon-triangle-1-s"></span>slides</a>
<div id="navigation" class="hidden"></div>

<div id="help">
  <table>
    <tr><td class="key">space, &rarr;</td><td>next slide</td></tr>
    <tr><td class="key">&larr;</td><td>previous slide</td></tr>
    <tr><td class="key">d</td><td>debug mode</td></tr>
    <tr><td class="key">## &lt;ret&gt;</td><td>go to slide #</td></tr>
    <tr><td class="key">c</td><td>table of contents (vi)</td></tr>
    <tr><td class="key">f</td><td>toggle footer</td></tr>
    <tr><td class="key">r</td><td>reload slides</td></tr>
    <tr><td class="key">z</td><td>toggle help (this)</td></tr>
  </table>
</div>

<div class="buttonNav">
  <input type="submit" onClick="prevStep();" value="prev"/>
  <input type="submit" onClick="nextStep();" value="next"/>
</div>

<div id="preso">loading presentation...</div>
<div id="footer">
  <span id="slideInfo"></span>
  <span id="debugInfo"></span>
</div>

<div id="slides" class="offscreen" style="display:none;">
<div class="slide" data-transition="none"><div class="content full-page" ref="intro/01_slide/1">
<h1>Google Maps on the web</h1>

<h2>by Popdevelop 13/4 - 2011</h2></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="intro/01_slide/2">
<h1>Introduction, Google Maps V3</h1>

<ul>
<li>Released May 2009</li>
<li>Completely re-written from V2</li>
<li>Optimized "bootstrap" process</li>
<li>Works well in mobile devices (webkit)</li>
<li>License?</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page incremental" ref="intro/01_slide/3">
<h1>GIS Basics</h1>

<h2>Tiles</h2>

<ul>
<li>Bitmap images</li>
<li>For all zoom levels</li>
<li>Non-interactive</li>
</ul>


<h2>Feature primitives</h2>

<ul>
<li>Points</li>
<li>LineString</li>
<li>PolyLine</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="intro/01_slide/4">
<h1>Google Maps basics</h1>

<ul>
<li>Easy to get started with!</li>
<li>Include library:</li>
</ul>


<p><code>&lt;script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=set_to_true_or_false"&gt;&lt;/script&gt;</code></p>

<ul>
<li>Instantiate maps with options:</li>
</ul>


<p><code>var map = new google.maps.Map(&lt;DOM Element&gt;, { ... });</code></p>

<ul>
<li>Control width/height with CSS</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page googlemap" ref="intro/01_slide/5">
<h1>Standard Google map</h1>

<p>This is what you get!</p>

<div class="gmaps"><div id="canvas"/></div>


<script>
  var latlng = new google.maps.LatLng(-34.397, 150.644);
  var myOptions = {
    zoom: 8,
    center: latlng,
    mapTypeId: google.maps.MapTypeId.ROADMAP
  };
  var map = new google.maps.Map(document.getElementById("canvas"), myOptions);
  $('.googlemap').bind("showoff:show", function() {
    google.maps.event.trigger(map, 'resize');
    map.setCenter(latlng);
  });
</script>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="intro/01_slide/6">
<h1>Some Google maps features</h1>

<p>Google maps has quite alot of built in features ready to be used. Here are a few:</p>

<h2>Marker</h2>

<p><code>var marker = new google.maps.Marker({...});</code></p>

<h2>Info Window</h2>

<p><code>var infowindow = new google.maps.InfoWindow({});</code></p>

<h2>Circles/Rectangles</h2>

<p><code>var cicle = new google.maps.Circle({...});</code></p>

<h3>See them all at <a href="http://code.google.com/intl/sv-SE/apis/maps/documentation/javascript/overlays.html">Google Maps Javascript API V3 Overlays</a></h3></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="style/01_style/1">
<h1>Styling Google maps</h1>

<p>Unstyled is pretty boring...</p></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="style/01_style/2">
<h1>Custom marker</h1>

<p>By using Googles <a href="http://code.google.com/intl/sv-SE/apis/maps/documentation/javascript/overlays.html#SubClassing">Custom Overlay Class</a>
we can create our own marker using any HTML/CSS we want</p>

<p><img src="file:///Users/sebastianwallin/dev/showoff/presentation-gtug/style/../img/custom_marker.png" width="426" height="311" alt="Custom marker"/></p></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="style/01_style/3">
<h1>Custom tiles</h1>

<ul>
<li>Allows control of map features</li>
<li>Allows simplification of features</li>
<li>Allows control of map colors</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page googlemap2" ref="style/01_style/4">
<h1>Here we go!</h1>

<p>This is what google maps can look like</p>

<div class="gmaps"><div id="canvas2"/></div>


<script>
(function() {
  var latlng = new google.maps.LatLng(-34.397, 150.644);
  var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
  };

  var theme = [
    {
      featureType: "water",
      elementType: "all",
      stylers: [
        { visibility: "on" },
        { hue: "#ff00bb" },
        { saturation: 100 }
      ]
    },{
      featureType: "landscape",
      elementType: "all",
      stylers: [
        { saturation: 94 },
        { hue: "#6e00ff" },
        { visibility: "off" }
      ]
    },{
      featureType: "road",
      elementType: "all",
      stylers: [
        { visibility: "off" }
      ]
    },{
      featureType: "administrative",
      elementType: "all",
      stylers: [
        { visibility: "off" }
      ]
    },{
      featureType: "poi",
      elementType: "all",
      stylers: [
        { visibility: "off" }
      ]
    }
  ]
  var style = new google.maps.StyledMapType(theme, { name: "hellokitty"});

  var map = new google.maps.Map(document.getElementById("canvas2"), myOptions);
  map.mapTypes.set('hellokitty', style);
  map.setMapTypeId('hellokitty');
  $('.googlemap2').bind("showoff:show", function() {
    google.maps.event.trigger(map, 'resize');
    map.setCenter(latlng);
  });
}());
</script>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="style/01_style/5">
<h1>Style notation</h1>

<pre class="sh_javascript"><code>{
  featureType: "water",
  elementType: "all",
  stylers: [
    { visibility: "on" },
    { hue: "#ff00bb" },
    { saturation: 100 }
  ]
},{
  featureType: "landscape",
  elementType: "all",
  stylers: [
    { saturation: 94 },
    { hue: "#6e00ff" },
    { visibility: "off" }
  ]
},
...</code></pre>

<p>Try it at <a href="http://gmaps-samples-v3.googlecode.com/svn/trunk/styledmaps/wizard/index.html" title="Wizard">Google custom style wizard</a></p></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/1">
<h1>Performance</h1>

<p>Handling a lot of data (or "getting hardcore")</p></div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/2">
<h1>Problems with performance</h1>

<h2>to many markers on map</h2>

<h2>marker rendering speed</h2>

<h2>to much data, load time</h2>

<h2>usability problem</h2>

<h2>to many javascript objects?</h2>

<ul>
<li>vissa browsers?</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/3">
<h1>Solution</h1>

<h2>depends on the requirements of you application</h2>

<ul>
<li>map interaction</li>
<li>information detail on different levels</li>
<li>target platform, ipad or chrome</li>
<li>data structure, volatile, size, update frequency</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/4">
<h1>ROI</h1>

<ul>
<li>how do you measure it, find problems</li>
<li>firebug/chrome developer tools</li>
<li>data loading time</li>
<li>profiling, function calls</li>
<li>console.log, events when overlay added, map events</li>
<li>http://jsperf.com/browse</li>
<li>Online Marker tests</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/5">
<h1>Methods of improvement</h1>

<ul>
<li>clustering

<ul>
<li>client side clustering</li>
<li>server side clustering</li>
</ul>
</li>
<li>kml layer</li>
<li>browser/client optimizations</li>
<li>use different techniques depending on browser</li>
<li>use different techniques depending on speed</li>
<li>hide/show is fast, rendering is slow</li>
<li>fetch data more efficient</li>
<li>slim down your protocol</li>
<li>fetch using boundingbox</li>
<li>divide data, overlayinfo, markerinfo</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/6">
<ul>
<li>google fusion table example</li>
</ul>
</div>
</div><div class="slide" data-transition="none"><div class="content full-page" ref="performance/01_performance/7">
<h1>performance</h1>

<p>Its a usability problem, most methods of performance improvements relate somehow to interaction?</p>

<p>Prestanda, visa lite olika matningar, vad tar tid</p>

<p>Vad erbjuder fusion table for maps, areamap, heartmap, custom border</p>

<p>http://code.google.com/p/google-maps-utility-library-v3/wiki/Libraries</p>

<p>http://www.svennerberg.com/2009/01/handling-large-amounts-of-markers-in-google-maps/</p>

<p>http://nickjohnson.com/b/google-maps-v3-how-to-quickly-add-many-markers</p>

<p>The latter pattern is more efficient, with 1 modification.  Rather than
creating a listener function in each call to .addListener(), create your
listener function once and add that same listener to all markers.  Reducing
the number of Objects like this helps older browsers especially.</p>

<p>Render GIFs for IE, instead of alpha PNGs</p>

<p>http://code.google.com/intl/sv-SE/apis/maps/articles/toomanymarkers.html
These varied approaches are outlined in the following sections:
Viewport Marker Management
Flash
Fusion Tables
MarkerClusterer
MarkerManager</p>

<p>Serverside clustering
http://www.usda.gov/recovery/map/
http://www.geograph.org.uk/mapper/clusters.php#ll=54.55,-3.88&amp;z=6&amp;t=p&amp;r=c
Try ZeeMaps (http://www.zeemaps.com). We apply several heuristics to improve
the loading time when you have large number of markers. For less than 5,000
markers we use a fast clustering algorithm, and only display visible markers.
For more than 5,000 markers we use server-side tiling.</p>

<p>Clustering techniques
http://www.appelsiini.net/2008/11/introduction-to-marker-clustering-with-google-maps</p>

<p>speed test clustering
http://www.svennerberg.com/examples/markers/markerPerformance.html</p>

<p>http://en.wikipedia.org/wiki/K-means_clustering
Grid-based Clustering
Distance-based Clustering
Grid Clustering</p>

<p>Andra delar
 - google streetview
 - google earth
 - google direction
 - om popdevelop
 - om mig/seb</p>

<p>util librarys
http://google-maps-utility-library-v3.googlecode.com/svn/tags/keydragzoom/</p></div>
</div>
</div>

</body>
</html>
